<!-- Hero Section -->
<section class="py-20 md:py-32">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <h1 class="text-4xl md:text-6xl font-bold mb-6">
      Hi, I'm <span class="text-primary">Pablo</span>
    </h1>
    <p class="text-xl md:text-2xl text-muted max-w-2xl">
      Software developer and lifelong learner. I build things, share what I learn, and occasionally talk about it on my podcast.
    </p>
  </div>
</section>

<!-- Currently Learning Section -->
<section class="py-16 bg-surface">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center mb-8">
      <h2 class="text-2xl font-semibold">How I Learn</h2>
      <%= link_to "See all ->", learning_portfolio_path, class: "text-primary hover:text-primary/80 transition" %>
    </div>

    <% if @active_categories.any? %>
      <%= render "learning/mini_canvas", categories: @active_categories, max_depth: @max_depth %>
    <% else %>
      <p class="text-muted">No learning moments yet.</p>
    <% end %>
  </div>
</section>

<!-- Latest Podcast Episode -->
<section class="py-16">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center mb-8">
      <h2 class="text-2xl font-semibold">Latest Episode</h2>
      <%= link_to "All episodes ->", podcast_collection_path("all"), class: "text-primary hover:text-primary/80 transition" %>
    </div>

    <% if @latest_episode %>
      <%= render "podcast_episodes/featured", episode: @latest_episode %>
    <% else %>
      <p class="text-muted">No episodes yet.</p>
    <% end %>
  </div>
</section>

<!-- Latest Blog Post (RSS) - placeholder for now -->
<section class="py-16 bg-surface">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center mb-8">
      <h2 class="text-2xl font-semibold">Latest from the Blog</h2>
      <%= link_to "Read more ->", ENV.fetch('BLOG_URL', 'https://blog.example.com'), class: "text-primary hover:text-primary/80 transition", target: "_blank" %>
    </div>

    <%= turbo_frame_tag "latest_blog_post", src: latest_blog_post_path, loading: :lazy do %>
      <div class="animate-pulse bg-background rounded-lg h-32"></div>
    <% end %>
  </div>
</section>
