<% if moment.url.present? %>
  <%= link_to moment.url, target: "_blank", rel: "noopener noreferrer",
      class: "inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-muted/10 border border-muted/20 text-sm text-text hover:border-primary/40 hover:bg-primary/5 transition-colors" do %>
    <span class="flex-shrink-0">
      <%= case moment.engagement_type
          when 'consumed' then 'ðŸ“–'
          when 'experimented' then 'ðŸ§ª'
          when 'applied' then 'ðŸ”¨'
          when 'shared' then 'ðŸ“£'
          end %>
    </span>
    <span><%= moment.description %></span>
    <span class="text-xs text-muted"><%= moment.occurred_at.strftime("%b %Y") %></span>
  <% end %>
<% else %>
  <span class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-muted/10 border border-muted/20 text-sm text-text">
    <span class="flex-shrink-0">
      <%= case moment.engagement_type
          when 'consumed' then 'ðŸ“–'
          when 'experimented' then 'ðŸ§ª'
          when 'applied' then 'ðŸ”¨'
          when 'shared' then 'ðŸ“£'
          end %>
    </span>
    <span><%= moment.description %></span>
    <span class="text-xs text-muted"><%= moment.occurred_at.strftime("%b %Y") %></span>
  </span>
<% end %>
